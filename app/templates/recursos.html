<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Study Link - Partilha de recursos educacionais como exames, exercícios e notas.">
    <meta name="keywords" content="Study Link, recursos, educação, exames, exercícios, notas, partilha">
    <meta name="author" content="Study Link Team">
    <link rel="icon" href="/static/Imagens/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/styles.css">
    <link rel="stylesheet" href="../static/css/recursos.css">
    <title>Study Link - Recursos</title>
</head>
<body>
    <!-- Barra de navegação -->
    <header>
        <div class="header-content max-width">
            <a href="/dashboard.html" class="brand">
                <img src="/static/Imagens/logo.png" alt="Logótipo Study Link" class="logo">
                <span class="brand-name">Study Link</span>
            </a>
            <nav>
                <a href="/dashboard.html" class="nav-link active">Dashboard</a>
                <a href="/matching.html" class="nav-link">Matching</a>
                <a href="/recursos.html" class="nav-link">Recursos</a>
                <a href="/comunidade.html" class="nav-link">Comunidade</a>
                <a href="/conversa.html" class="nav-link">Mensagens</a>
                <a href="/recompensas.html" class="nav-link">Recompensas</a>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Alternar tema">
                    <svg class="theme-icon" viewBox="0 0 24 24">
                        <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                </button>
                <a href="/conta.html" class="profile-btn btn-animated">Conta</a>
                <button class="auth-btn btn-animated" onclick="logout()">Sair</button>
            </nav>
            <button class="menu-btn" onclick="toggleMenu()" aria-label="Alternar menu">
                <span class="menu-icon"></span>
            </button>
        </div>
    </header>

    <!-- Conteúdo principal -->
    <main class="main-content">
        <section class="animate-slide-in">
            <h2 class="section-title">Recursos</h2>
            <div class="resource-container">
                <div class="resource-header">
                    <div class="search-bar">
                        <input type="text" placeholder="Procurar recursos..." oninput="searchResources(this.value)" aria-label="Procurar recursos">
                    </div>
                    <div>
                        <button class="filter-btn" onclick="filterResources('Exames')" aria-label="Filtrar por exames">Exames</button>
                        <button class="filter-btn" onclick="filterResources('Exercícios')" aria-label="Filtrar por exercícios">Exercícios</button>
                        <button class="filter-btn" onclick="filterResources('Notas')" aria-label="Filtrar por notas">Notas</button>
                    </div>
                </div>
                <div class="resource-grid" id="resourceGrid">
                    <div class="resource-card">
                        <img src="https://via.placeholder.com/300x150" alt="Exame de Cálculo">
                        <h3>Exame de Cálculo 2024</h3>
                        <p>Exame final de Cálculo Diferencial com soluções detalhadas.</p>
                        <div class="resource-meta">
                            <span>Por: Maria Silva</span>
                            <span>17/04/2025</span>
                        </div>
                        <div class="resource-actions">
                            <button class="action-btn" onclick="downloadResource('exame_calculo.pdf')">Descarregar</button>
                            <button class="action-btn" onclick="previewResource('exame_calculo.pdf')">Pré-visualizar</button>
                        </div>
                    </div>
                    <div class="resource-card">
                        <img src="https://via.placeholder.com/300x150" alt="Exercícios de Física">
                        <h3>Exercícios de Física</h3>
                        <p>Conjunto de exercícios sobre mecânica clássica.</p>
                        <div class="resource-meta">
                            <span>Por: João Costa</span>
                            <span>16/04/2025</span>
                        </div>
                        <div class="resource-actions">
                            <button class="action-btn" onclick="downloadResource('exercicios_fisica.pdf')">Descarregar</button>
                            <button class="action-btn" onclick="previewResource('exercicios_fisica.pdf')">Pré-visualizar</button>
                        </div>
                    </div>
                    <div class="resource-card">
                        <img src="https://via.placeholder.com/300x150" alt="Notas de Programação">
                        <h3>Notas de Programação</h3>
                        <p>Resumo de estruturas de dados em Python.</p>
                        <div class="resource-meta">
                            <span>Por: Ana Almeida</span>
                            <span>15/04/2025</span>
                        </div>
                        <div class="resource-actions">
                            <button class="action-btn" onclick="downloadResource('notas_programacao.pdf')">Descarregar</button>
                            <button class="action-btn" onclick="previewResource('notas_programacao.pdf')">Pré-visualizar</button>
                        </div>
                    </div>
                </div>
                <div class="upload-section">
                    <h3>Partilhar um Recurso</h3>
                    <div class="upload-form">
                        <input type="text" id="resourceTitle" placeholder="Título do recurso" aria-label="Título do recurso">
                        <select id="resourceType" aria-label="Tipo de recurso">
                            <option value="Exames">Exames</option>
                            <option value="Exercícios">Exercícios</option>
                            <option value="Notas">Notas</option>
                        </select>
                        <input type="text" id="resourceDescription" placeholder="Descrição" aria-label="Descrição do recurso">
                        <div class="file-upload">
                            <input type="file" id="resourceFile" accept=".pdf,.png,.jpg" onchange="handleFileUpload(this.files)">
                            <label for="resourceFile" aria-label="Carregar ficheiro">Selecionar Ficheiro (PDF, PNG, JPG)</label>
                        </div>
                        <button class="btn-animated" onclick="uploadResource()" aria-label="Carregar recurso">Carregar</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Área de Drag and Drop -->
    <div class="drop-zone" id="dropZone">
        <div class="drop-area" id="dropArea">
            <p>Arraste e largue ficheiros aqui (PDF, PNG, JPG, máx. 10MB)</p>
            <div class="progress-circle" id="uploadProgress"></div>
        </div>
    </div>

    <!-- Modal de Visualização de Ficheiros -->
    <div class="file-preview-modal" id="filePreviewModal">
        <div class="file-preview-content">
            <button class="file-preview-close" onclick="closeFilePreview()" aria-label="Fechar pré-visualização">×</button>
            <img id="filePreviewImage" src="" alt="Pré-visualização do ficheiro">
        </div>
    </div>

    <!-- Notificação -->
    <div class="notification" id="notification">
        <p>Ação realizada com sucesso!</p>
    </div>

    <!-- Footer -->
    <footer>
        <p>© 2025 Study Link. Todos os direitos reservados. Licenciado sob a <a href="https://opensource.org/licenses/MIT" target="_blank">Licença MIT</a>.</p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="../static/js/script.js"></script>
    <script src="../static/js/recursos.js"></script>
</body>
</html>