<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Study Link - Comunidade de partilha de conhecimento educacional.">
    <meta name="keywords" content="Study Link, comunidade, educação, posts, conhecimento">
    <meta name="author" content="Study Link Team">
    <link rel="icon" href="/static/Imagens/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/monokai-sublime.min.css">
    <link rel="stylesheet" href="../static/css/styles.css">
    <link rel="stylesheet" href="../static/css/comunidade.css">
    <title>Study Link - Comunidade</title>
</head>
<body>
    <!-- Barra de navegação -->
    <header>
        <div class="header-content max-width">
            <a href="/dashboard.html" class="brand">
                <img src="/static/Imagens/logo.png" alt="Logótipo Study Link" class="logo">
                <span class="brand-name">Study Link</span>
            </a>
            <nav>
                <a href="/dashboard.html" class="nav-link active">Dashboard</a>
                <a href="/matching.html" class="nav-link">Matching</a>
                <a href="/disciplinas.html" class="nav-link">Disciplinas</a>
                <a href="/recursos.html" class="nav-link">Recursos</a>
                <a href="/comunidade.html" class="nav-link">Comunidade</a>
                <a href="/conversa.html" class="nav-link">Mensagens</a>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Alternar tema">
                    <svg class="theme-icon" viewBox="0 0 24 24">
                        <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                </button>
                <a href="/conta.html" class="btn-animated">Conta</a>
                <button class="btn-animated" onclick="logout()">Sair</button>
            </nav>
            <button class="menu-btn" onclick="toggleMenu()" aria-label="Alternar menu">
                <span class="menu-icon"></span>
            </button>
        </div>
    </header>

    <!-- Conteúdo principal -->
    <main class="main-content">
        <section class="animate-slide-in">
            <h2 class="section-title">Comunidade</h2>
            <div class="community-container">
                <div class="filter-bar">
                    <div class="search-bar">
                        <input type="text" placeholder="Procurar posts..." oninput="searchPosts(this.value)" aria-label="Procurar posts">
                    </div>
                    <select class="filter-select" onchange="filterPosts(this.value)" aria-label="Filtrar por disciplina">
                        <option value="all">Todas as Disciplinas</option>
                        <option value="Matemática">Matemática</option>
                        <option value="Física">Física</option>
                        <option value="Programação">Programação</option>
                    </select>
                    <a href="/formulario.html" class="create-post-btn" onclick="navigateToCreatePost()">Criar Novo Post</a>
                </div>
                <div class="posts-grid" id="postsGrid">
                    <div class="post-card">
                        <img src="https://via.placeholder.com/400x200" alt="Postagem sobre Cálculo">
                        <h3>Introdução ao Cálculo Diferencial</h3>
                        <div class="post-meta">
                            <span>João Silva</span>
                            <span>17/04/2025</span>
                            <span>Matemática</span>
                        </div>
                        <div class="post-content">
                            O cálculo diferencial é uma ferramenta poderosa para entender taxas de variação. Neste post, exploramos derivadas e suas aplicações em problemas reais, como otimização e física.
                        </div>
                        <div class="post-actions">
                            <button class="like-btn" onclick="toggleLike(this)" aria-label="Gostar do post">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="like-count">10</span>
                            </button>
                            <span class="comment-count">5 Comentários</span>
                            <button class="read-more-btn" onclick="openPostModal('Introdução ao Cálculo Diferencial', 'João Silva', '17/04/2025', 'Matemática', 'O cálculo diferencial é uma ferramenta poderosa para entender taxas de variação. Neste post, exploramos derivadas e suas aplicações em problemas reais, como otimização e física. Inclui exemplos práticos e exercícios resolvidos.', 'https://via.placeholder.com/400x200')" aria-label="Ler mais sobre o post">Ler Mais</button>
                        </div>
                    </div>
                    <div class="post-card">
                        <img src="https://via.placeholder.com/400x200" alt="Postagem sobre Física">
                        <h3>Leis de Newton Explicadas</h3>
                        <div class="post-meta">
                            <span>Ana Costa</span>
                            <span>16/04/2025</span>
                            <span>Física</span>
                        </div>
                        <div class="post-content">
                            As leis de Newton formam a base da mecânica clássica. Este post detalha cada lei com exemplos do dia a dia e aplicações em problemas de física.
                        </div>
                        <div class="post-actions">
                            <button class="like-btn" onclick="toggleLike(this)" aria-label="Gostar do post">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="like-count">8</span>
                            </button>
                            <span class="comment-count">3 Comentários</span>
                            <button class="read-more-btn" onclick="openPostModal('Leis de Newton Explicadas', 'Ana Costa', '16/04/2025', 'Física', 'As leis de Newton formam a base da mecânica clássica. Este post detalha cada lei com exemplos do dia a dia e aplicações em problemas de física. Inclui diagramas e exercícios práticos.', 'https://via.placeholder.com/400x200')" aria-label="Ler mais sobre o post">Ler Mais</button>
                        </div>
                    </div>
                    <div class="post-card">
                        <h3>Primeiros Passos em Python</h3>
                        <div class="post-meta">
                            <span>Pedro Almeida</span>
                            <span>15/04/2025</span>
                            <span>Programação</span>
                        </div>
                        <div class="post-content">
                            <pre><code class="language-python">def hello_world():
    print("Olá, Mundo!")
hello_world()</code></pre>
                            Este post introduz a programação em Python com exemplos simples e dicas para iniciantes.
                        </div>
                        <div class="post-actions">
                            <button class="like-btn" onclick="toggleLike(this)" aria-label="Gostar do post">
                                <svg viewBox="0 0 24 24">
                                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                </svg>
                                <span class="like-count">12</span>
                            </button>
                            <span class="comment-count">7 Comentários</span>
                            <button class="read-more-btn" onclick="openPostModal('Primeiros Passos em Python', 'Pedro Almeida', '15/04/2025', 'Programação', 'Este post introduz a programação em Python com exemplos simples e dicas para iniciantes. Inclui trechos de código comentados e projetos pequenos para praticar.', 'https://via.placeholder.com/400x200')" aria-label="Ler mais sobre o post">Ler Mais</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal de Visualização de Post -->
    <div class="post-modal" id="postModal">
        <div class="post-modal-content">
            <button class="post-modal-close" onclick="closePostModal()" aria-label="Fechar modal">×</button>
            <h3 id="modalTitle"></h3>
            <div class="post-meta">
                <span id="modalAuthor"></span>
                <span id="modalDate"></span>
                <span id="modalSubject"></span>
            </div>
            <img id="modalImage" src="" alt="Imagem do post" style="display: none;">
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Notificação -->
    <div class="notification" id="notification">
        <p>Ação realizada com sucesso!</p>
    </div>

    <!-- Footer -->
    <footer>
        <p>© 2025 Study Link. Todos os direitos reservados. Licenciado sob a <a href="https://opensource.org/licenses/MIT" target="_blank">Licença MIT</a>.</p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="../static/js/script.js"></script>
    <script src="../static/js/comunidade.js"></script>
</body>
</html>