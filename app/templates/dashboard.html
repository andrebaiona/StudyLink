<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Study Link - Dashboard para progresso académico, matches e conteúdos salvos.">
    <meta name="keywords" content="Study Link, dashboard, mentoria, educação, progresso, comunidade">
    <meta name="author" content="Study Link Team">
    <link rel="icon" href="/static/Imagens/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="../static/css/styles.css">
    <link rel="stylesheet" href="../static/css/dashboard.css">
    <title>Study Link - Dashboard</title>
</head>
<body>
    <!-- Barra de navegação -->
    <header>
        <div class="header-content max-width">
            <a href="/dashboard.html" class="brand">
                <img src="/static/Imagens/logo.png" alt="Logótipo Study Link" class="logo">
                <span class="brand-name">Study Link</span>
            </a>
            <nav>
                <a href="/dashboard.html" class="nav-link active">Dashboard</a>
                <a href="/matching.html" class="nav-link">Matching</a>
                <a href="/disciplinas.html" class="nav-link">Disciplinas</a>
                <a href="/recursos.html" class="nav-link">Recursos</a>
                <a href="/comunidade.html" class="nav-link">Comunidade</a>
                <a href="/conversa.html" class="nav-link">Mensagens</a>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Alternar tema">
                    <svg class="theme-icon" viewBox="0 0 24 24">
                        <path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                </button>
                <a href="/conta.html" class="profile-btn btn-animated">Conta</a>
                <button class="auth-btn btn-animated" onclick="logout()">Sair</button>
            </nav>
            <button class="menu-btn" onclick="toggleMenu()" aria-label="Alternar menu">
                <span class="menu-icon"></span>
            </button>
        </div>
    </header>

    <!-- Dashboard -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            
          <div class="sidebar-header">
              <img src="{{ user.profile_pic }}" alt="Foto de Perfil">
              <span>{{ user.name }}</span>
          </div>
            <ul class="sidebar-nav">
                <li><a href="#overview" class="active"><svg viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg> Visão Geral</a></li>
                <li><a href="#progress"><svg viewBox="0 0 24 24"><path d="M12 2a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16z"/></svg> Progresso</a></li>
                <li><a href="#matches"><svg viewBox="0 0 24 24"><path d="M12 12c2.2 0 4-1.8 4-4s-1.8-4-4-4-4 1.8-4 4 1.8 4 4 4zm0 2c-2.7 0-8 1.3-8 4v2h16v-2c0-2.7-5.3-4-8-4z"/></svg> Meus Matches</a></li>
                <li><a href="#saved"><svg viewBox="0 0 24 24"><path d="M17 3H7c-1.1 0-2 .9-2 2v16l7-3 7 3V5c0-1.1-.9-2-2-2z"/></svg> Itens Salvos</a></li>
                <li><a href="#analytics"><svg viewBox="0 0 24 24"><path d="M4 6h16v2H4zm4 5h12v2H8zm-4 5h16v2H4z"/></svg> Análises</a></li>
                <li><a href="#schedule"><svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/></svg> Agenda</a></li>
            </ul>
        </aside>

        <!-- Conteúdo principal -->
        <main class="main-content">
            <!-- Visão Geral -->
            <section id="overview" class="animate-slide-in">
                <h2 class="section-title">Bem-vindo, {{ user.name }}!</h2>
                <div class="row g-4">
                    <div class="col-lg-4 col-md-6">
                        <div class="dashboard-card">
                            <h3>Progresso Geral</h3>
                            <p>Estás a 82% do teu objetivo académico!</p>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 82%;"></div>
                            </div>
                            <button class="btn-animated btn-outline mt-3" onclick="location.href='#progress'">Ver Detalhes</button>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="dashboard-card">
                            <h3>Matches Ativos</h3>
                            <p>3 mentores conectados contigo.</p>
                            <button class="btn-animated mt-3" onclick="location.href='#matches'">Ver Matches</button>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="dashboard-card">
                            <h3>Itens Salvos</h3>
                            <p>5 recursos e posts salvos.</p>
                            <button class="btn-animated mt-3" onclick="location.href='#saved'">Explorar</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Progresso -->
            <section id="progress" class="mt-5 animate-slide-in">
                <h2 class="section-title">Teu Progresso Académico</h2>
                <div class="row g-4">
                    <div class="col-lg-6">
                        <div class="dashboard-card">
                            <h3>Progresso por Disciplina</h3>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Disciplina</th>
                                            <th>Progresso</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Cálculo Diferencial</td>
                                            <td>
                                                <div class="progress-container">
                                                    <div class="progress-bar" style="width: 90%;"></div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Física Teórica</td>
                                            <td>
                                                <div class="progress-container">
                                                    <div class="progress-bar" style="width: 65%;"></div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Programação</td>
                                            <td>
                                                <div class="progress-container">
                                                    <div class="progress-bar" style="width: 80%;"></div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="dashboard-card">
                            <h3>Metas Ativas</h3>
                            <ul>
                                <li>Completar 2 capítulos de Cálculo - <span style="color: green;">Concluído</span></li>
                                <li>Participar em 1 sessão de Física - <span style="color: orange;">Pendente</span></li>
                                <li>Submeter projeto de Programação - <span style="color: red;">Atrasado</span></li>
                            </ul>
                            <button class="btn-animated mt-3" onclick="openGoalModal()">Definir Nova Meta</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Matches -->
            <section id="matches" class="mt-5 animate-slide-in">
                <h2 class="section-title">Meus Matches</h2>
                <div class="row g-4">
                    <div class="col-lg-4 col-md-6">
                        <div class="match-card">
                            <img src="https://via.placeholder.com/60" alt="Mentor">
                            <div>
                                <h3>João Silva</h3>
                                <p>Mentor em Cálculo Diferencial</p>
                                <button class="btn-animated btn-outline" onclick="openMessageModal('João Silva')">Enviar Mensagem</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="match-card">
                            <img src="https://via.placeholder.com/60" alt="Mentor">
                            <div>
                                <h3>Ana Costa</h3>
                                <p>Mentora em Física Teórica</p>
                                <button class="btn-animated btn-outline" onclick="openMessageModal('Ana Costa')">Enviar Mensagem</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="match-card">
                            <img src="https://via.placeholder.com/60" alt="Mentor">
                            <div>
                                <h3>Pedro Almeida</h3>
                                <p>Mentor em Programação</p>
                                <button class="btn-animated btn-outline" onclick="openMessageModal('Pedro Almeida')">Enviar Mensagem</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Itens Salvos -->
            <section id="saved" class="mt-5 animate-slide-in">
                <h2 class="section-title">Itens Salvos e Curtidos</h2>
                <div class="row g-4">
                    <div class="col-lg-4 col-md-6">
                        <div class="saved-card">
                            <div class="icon">📘</div>
                            <div>
                                <h3>Guia de Cálculo</h3>
                                <p>Recurso salvo em 15/04/2025</p>
                                <button class="btn-animated btn-outline">Acessar</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="saved-card">
                            <div class="icon">🎥</div>
                            <div>
                                <h3>Vídeo de Física</h3>
                                <p>Recurso curtido em 16/04/2025</p>
                                <button class="btn-animated btn-outline">Acessar</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="saved-card">
                            <div class="icon">💬</div>
                            <div>
                                <h3>Post no Fórum</h3>
                                <p>Post salvo em 17/04/2025</p>
                                <button class="btn-animated btn-outline">Ver</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Análises -->
            <section id="analytics" class="mt-5 animate-slide-in">
                <h2 class="section-title">Análises e Estatísticas</h2>
                <div class="row g-4">
                    <div class="col-lg-6">
                        <div class="dashboard-card">
                            <h3>Tempo de Estudo</h3>
                            <div class="chart-container">
                                <canvas id="studyTimeChart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="dashboard-card">
                            <h3>Atividade na Plataforma</h3>
                            <div class="chart-container">
                                <canvas id="activityChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Agenda -->
            <section id="schedule" class="mt-5 animate-slide-in">
                <h2 class="section-title">Minha Agenda</h2>
                <div class="dashboard-card">
                    <h3>Próximas Sessões</h3>
                    <ul>
                        <li>Matemática com João Silva - 18/04/2025, 14:00</li>
                        <li>Física com Ana Costa - 19/04/2025, 10:00</li>
                        <li>Programação com Pedro Almeida - 20/04/2025, 16:00</li>
                    </ul>
                    <button class="btn-animated mt-3" onclick="openScheduleModal()">Agendar Nova Sessão</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de Agendamento -->
    <div class="modal" id="scheduleModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('scheduleModal')">×</button>
            <h3>Agendar Nova Sessão</h3>
            <form>
                <div class="form-group">
                    <select id="mentor" required>
                        <option value="">Selecione um mentor</option>
                        <option value="joao">João Silva</option>
                        <option value="ana">Ana Costa</option>
                        <option value="pedro">Pedro Almeida</option>
                    </select>
                    <label for="mentor">Mentor</label>
                </div>
                <div class="form-group">
                    <select id="disciplina" required>
                        <option value="">Selecione uma disciplina</option>
                        <option value="calculo">Cálculo Diferencial</option>
                        <option value="fisica">Física Teórica</option>
                        <option value="programacao">Programação</option>
                    </select>
                    <label for="disciplina">Disciplina</label>
                </div>
                <div class="form-group">
                    <input type="datetime-local" id="datetime" placeholder=" " required>
                    <label for="datetime">Data e Hora</label>
                </div>
                <div class="form-group">
                    <textarea id="notes" placeholder=" " rows="4"></textarea>
                    <label for="notes">Notas</label>
                </div>
                <button type="submit" class="btn-animated">Confirmar Agendamento</button>
            </form>
        </div>
    </div>

    <!-- Modal de Mensagem -->
    <div class="modal" id="messageModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('messageModal')">×</button>
            <h3>Enviar Mensagem</h3>
            <form>
                <div class="form-group">
                    <input type="text" id="mentorName" placeholder=" " readonly>
                    <label for="mentorName">Mentor</label>
                </div>
                <div class="form-group">
                    <textarea id="message" placeholder=" " rows="4" required></textarea>
                    <label for="message">Mensagem</label>
                </div>
                <button type="submit" class="btn-animated">Enviar</button>
            </form>
        </div>
    </div>

    <!-- Modal de Definir Meta -->
    <div class="modal" id="goalModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('goalModal')">×</button>
            <h3>Definir Nova Meta</h3>
            <form>
                <div class="form-group">
                    <select id="disciplinaGoal" required>
                        <option value="">Selecione uma disciplina</option>
                        <option value="calculo">Cálculo Diferencial</option>
                        <option value="fisica">Física Teórica</option>
                        <option value="programacao">Programação</option>
                    </select>
                    <label for="disciplinaGoal">Disciplina</label>
                </div>
                <div class="form-group">
                    <input type="text" id="goalDescription" placeholder=" " required>
                    <label for="goalDescription">Descrição da Meta</label>
                </div>
                <div class="form-group">
                    <input type="date" id="goalDeadline" placeholder=" " required>
                    <label for="goalDeadline">Prazo</label>
                </div>
                <button type="submit" class="btn-animated">Adicionar Meta</button>
            </form>
        </div>
    </div>

    <!-- Notificação -->
    <div class="notification" id="notification">
        <p>Ação realizada com sucesso!</p>
    </div>

    <!-- Footer -->
    <footer>
        <p>© 2025 Study Link. Todos os direitos reservados. Licenciado sob a <a href="https://opensource.org/licenses/MIT" target="_blank">Licença MIT</a>.</p>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="../static/js/dashboard.js"></script>
    <script src="../static/js/script.js"></script>
</body>
</html>
